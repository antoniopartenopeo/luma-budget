#!/bin/bash

# ============================================
# Pre-commit hook for Luma Budget
# Runs governance validator before each commit
# ============================================

echo "ğŸ”’ Running Luma Governance Validator..."
echo ""

# Run the validator
./.agent/skills/luma-governance-update/scripts/validate.sh

# Check exit code
if [ $? -ne 0 ]; then
    echo ""
    echo "âŒ Commit blocked: Fix violations before committing"
    echo "   Run 'npm run validate' to see details"
    exit 1
fi

echo ""
echo "âœ… Validation passed - proceeding with commit"
exit 0
